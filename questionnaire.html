<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>No Innocence</title>
<meta name="theme-color" content="#c9184a">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ff4d8d, #c9184a);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  color: white;
  transition: opacity 0.3s ease;
}

.container {
  background: rgba(0,0,0,0.25);
  backdrop-filter: blur(12px);
  padding: 30px;
  border-radius: 25px;
  width: 100%;
  max-width: 420px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
}

.title {
  font-size: 40px;
  font-weight: 900;
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 15px;
}

.title .no { opacity: 0.45; }

.title .innocence {
  text-shadow: 0 0 6px rgba(255,255,255,0.6),
               0 0 18px rgba(255,0,90,0.5);
}

.title-divider {
  height: 2px;
  width: 70%;
  margin: 10px auto 25px auto;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.7), transparent);
  border-radius: 2px;
  opacity: 0.7;
}

input {
  width: 100%;
  padding: 14px;
  margin: 10px 0;
  border-radius: 14px;
  border: none;
  font-size: 16px;
  text-align: center;
  background: white;
  color: #c9184a;
  font-weight: bold;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border-radius: 14px;
  border: none;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
}

.primary { background: white; color: #c9184a; }
.danger { background: #ff0a54; color: white; }

.hidden { display: none; }

.name-display {
  margin: 25px 0;
  font-size: 28px;
  font-weight: bold;
  min-height: 36px;
}

.question-box {
  margin-top: 15px;
  padding: 18px;
  border-radius: 18px;
  background: rgba(255,255,255,0.2);
  min-height: 80px;
}

.scoreboard {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  gap: 10px;
}

.player-card {
  flex: 1;
  background: rgba(255,255,255,0.15);
  padding: 12px;
  border-radius: 15px;
}

.player-name {
  font-size: 14px;
  opacity: 0.8;
}

.player-score {
  font-size: 24px;
  font-weight: bold;
}

.round-display {
  margin-top: 12px;
  font-size: 14px;
  opacity: 0.8;
}

.back-text {
  margin-top: 25px;
  font-size: 16px;
  opacity: 0.85;
  cursor: pointer;
  transition: 0.2s ease;
}

.back-text:hover {
  opacity: 1;
  transform: translateX(-4px);
}
</style>
</head>
<body>

<div class="container">

<h1 class="title">
  <span class="no">No</span>
  <span class="innocence">Innocence</span>
</h1>

<div class="title-divider"></div>

<div id="setup">
  <input id="player1" placeholder="Player 1 Name">
  <input id="player2" placeholder="Player 2 Name">
  <button class="primary" onclick="startGame()">Begin</button>
</div>

<div id="game" class="hidden">

  <div id="nameDisplay" class="name-display">Press Spin</div>

  <div id="questionBox" class="question-box">
    Question will appear here
  </div>

  <div id="actionArea">
    <button id="mainBtn" class="primary" onclick="handleMain()">Spin</button>
  </div>

  <div class="scoreboard">
    <div class="player-card">
      <div id="name1" class="player-name"></div>
      <div id="score1" class="player-score">0</div>
    </div>
    <div class="player-card">
      <div id="name2" class="player-name"></div>
      <div id="score2" class="player-score">0</div>
    </div>
  </div>

  <div id="roundDisplay" class="round-display"></div>

</div>
</div>

<div class="back-text" onclick="goBack()">← Go Back</div>

<script>

let players = [];
let scores = {};
let currentPlayer = null;
let lastPlayer = null;
let streakCount = 0;

let round = 0;
const maxRounds = 15; // ✅ NOW 15 ROUNDS

let state = "waiting";
let spinning = false;
let gameOver = false;

const questions = [

/* SIMPLIFIED ORIGINALS */

"Do you like being in control or being controlled?",
"Where do you like being kissed the most?",
"Have you ever flirted knowing it would cause drama?",
"Where’s the craziest place you’ve made out?",
"Have you ever liked someone you shouldn’t?",
"What small thing turns you on fast?",
"Have you ever broken your own rules for someone?",
"What’s the longest you’ve gone without sex?",
"Have you ever been someone’s secret hookup?",
"What’s your biggest weakness when you’re attracted to someone?",
"Have you ever wanted someone just for sex?",
"What instantly turns you on?",
"Have you flirted just for attention?",
"What’s the freakiest thing you’ve done alone?",
"Have you ever made the first move?",
"What’s your perfect late-night situation?",
"Do you like being dominated?",
"What’s something sexual you’ve done that would shock people?",
"When was the last time you had sex?",
"Do you like chasing or being chased?",
"What’s something sexual you’d only admit at night?",
"Have you ever felt instant sexual chemistry?",
"What kind of tension turns you on?",
"Have you ever flirted while in a relationship?",
"What’s the strongest attraction you’ve ever felt?",
"Have you ever tested someone sexually?",
"What’s something sexual you secretly want?",
"Have you ever sent a risky text?",
"What’s the most random hookup you’ve had?",
"Have you ever been obsessed with someone sexually?",
"What makes you blush instantly?",
"Have you ever liked your friend’s partner?",
"What’s the boldest move you’ve made?",
"Have you ever kept a hookup secret?",
"What makes you crave someone?",
"Have you ever liked two people at once?",
"When did you last masturbate?",
"What’s the best physical connection you’ve had?",
"Have you ever wanted someone who was off-limits?",
"What’s something sexual you want to try once?",
"Have you flirted to make someone jealous?",
"What’s your biggest turn-on?",
"Have you ever lied about your experience?",
"Where’s the wildest place you’ve had sex?",
"Have you ever roleplayed?",
"What’s the boldest message you’ve sent?",
"Have you ever had a late-night convo that turned sexual?",
"What compliment turns you on most?",
"Have you ever wanted someone you couldn’t have?",
"What drives you crazy in a good way?",
"Have you ever used sexual tension on purpose?",
"What’s the most reckless thing you’ve done while horny?",
"Have you had a one-night stand?",
"What sexual act would you only do with someone you trust?",
"Have you ever been turned on by the wrong person?",
"What’s your favorite body part on someone?",
"Have you ever almost gotten caught having sex?",
"What’s your biggest sexual weakness?",
"Have you gotten jealous over someone you liked?",
"What sexual memory do you replay in your head?",
"Have you flirted in public for fun?",
"When was your last kiss?",
"What’s the dirtiest thought you’ve had recently?",
"Have you ever almost crossed a serious line?",
"What’s the longest you’ve teased someone?",
"Have you caught feelings after sex?",
"What kind of foreplay do you like most?",
"Have you lied about your body count?",
"What always gets you in the mood?",
"Where’s the wildest place you’ve masturbated?",
"Have you pushed someone’s limits sexually?",
"What do you wish someone would do to you?",
"Have you fantasized about someone here?",
"What’s your most intense make-out session?",
"Have you wanted something you knew was wrong?",
"Where’s the weirdest place you’ve been turned on?",
"Have you had a secret crush you shouldn’t?",
"What’s a sexual secret you’ve never told anyone?",
"Have you been caught doing something sexual?",
"What’s the riskiest thing you’ve done while horny?",
"Do you enjoy making someone jealous?",
"What’s the most possessive you’ve felt?",
"What’s your biggest turn-off?",
"Have you had a friends-with-benefits?",
"What makes you lose control sexually?",
"Have you tested someone’s self-control?",
"What’s the freakiest thing you’ve done with someone?",
"Have you hooked up with someone you just met?",
"What would you try if there were no consequences?",
"Have you had a secret late-night hookup?",
"Have you wanted someone to beg for you?",
"When did you last feel really horny?",
"How many sex toys do you own?",
"Have you used a sex toy?",
"Have you ever filmed something sexual?",
"Have you ever sent a nude to the wrong person?",
"What’s your favorite sex position?",
"Do you like rough or slow?",
"Have you ever had sex somewhere risky?",
"Have you ever cheated physically?",
"Have you ever kissed more than one person in one night?",
"What’s your biggest kink?",
"Do you prefer giving or receiving?",
"Have you ever had a threesome fantasy?",
"What’s the most dominant thing you’ve done?",
"What’s the most submissive thing you’ve done?",
"Have you ever had sex without feelings?",
"Have you ever hooked up with an ex?",
"What’s your biggest guilty pleasure?",
"Have you ever had phone sex?",
"Have you ever lied to get someone into bed?",
"What’s the quickest you’ve caught feelings?",
"Have you ever been turned on in public?",
"What’s your favorite type of dirty talk?",
"Have you ever hooked up with a coworker?",
"Have you ever hooked up with a friend?",
"What’s the longest make-out session you’ve had?",
"Have you ever gone back to someone toxic for sex?",
"What’s something sexual you’d never admit to your parents?",
"Have you ever faked being innocent?",
"Have you ever made someone jealous on purpose?",
"What’s your favorite place to be touched?",
"Have you ever hooked up while drunk?",
"What’s the most impulsive sexual thing you’ve done?",
"Have you ever sent voice notes that were sexual?",
"Have you ever kept a hookup hidden?",
"What’s the loudest you’ve been during sex?",
"Have you ever had sex in someone else’s house?",
"Have you ever thought about someone else during sex?",
"What’s your favorite time of day to hook up?",
"Have you ever had a rebound hookup?",
"Have you ever hooked up with someone older?",
"Have you ever hooked up with someone younger?",
"What’s the most attractive thing someone can do?",
"Have you ever been jealous over someone you weren’t dating?",
"Have you ever been someone’s side piece?",
"What’s something sexual you regret?",
"Have you ever hooked up at a party?",
"Have you ever lied about liking something in bed?",
"What’s your favorite body type?",
"Have you ever dated someone just for sex?",
"Have you ever hooked up with someone you met online?",
"Have you ever hooked up out of boredom?",
"What’s something sexual you’d try tonight?"
];


function startGame() {
  const p1 = player1.value.trim();
  const p2 = player2.value.trim();
  if (!p1 || !p2) return alert("Enter both names");

  players = [p1, p2];
  scores = { [p1]: 0, [p2]: 0 };

  name1.innerText = p1;
  name2.innerText = p2;

  setup.classList.add("hidden");
  game.classList.remove("hidden");

  round = 0;
  gameOver = false;
  lastPlayer = null;
  streakCount = 0;

  state = "waiting";
  setMainButton("Spin");
  updateScore();
}

function smartRandomPlayer() {
  let choice;
  if (streakCount >= 2) {
    const other = players.find(p => p !== lastPlayer);
    choice = Math.random() < 0.75 ? other : lastPlayer;
  } else {
    choice = players[Math.floor(Math.random() * players.length)];
  }

  streakCount = (choice === lastPlayer) ? streakCount + 1 : 1;
  lastPlayer = choice;
  return choice;
}

function spinPlayer() {
  spinning = true;
  const btn = document.getElementById("mainBtn");
  btn.disabled = true;

  let flips = 0;
  const spinInterval = setInterval(() => {
    nameDisplay.innerText = players[flips % 2];
    flips++;

    if (flips >= 18) {
      clearInterval(spinInterval);
      currentPlayer = smartRandomPlayer();
      nameDisplay.innerText = currentPlayer;
      spinning = false;
      btn.disabled = false;
    }
  }, 60);
}

function handleMain() {
  if (spinning || gameOver) return;

  if (state === "waiting") {
    spinPlayer();
    state = "spun";
    setMainButton("Reveal Question");
    return;
  }

  if (state === "spun") {
    showQuestion();
    state = "answering";
    return;
  }

  if (state === "answering") {
    state = "decision";
    showDecision();
    return;
  }

  if (state === "followup") {
    scores[currentPlayer] += 2;
    nextRound();
  }
}

function showQuestion() {
  const q = questions[Math.floor(Math.random()*questions.length)];
  questionBox.innerText = q;

  actionArea.innerHTML = `
    <button class="primary" onclick="handleMain()">Finished Answer</button>
    <button class="danger" onclick="skipQuestion()">Skip (-1)</button>
  `;
}

function showDecision() {
  actionArea.innerHTML = `
    <button class="primary" onclick="accept()">Accept (+1)</button>
    <button class="danger" onclick="challenge()">Challenge (+2)</button>
  `;
}

function accept() { scores[currentPlayer] += 1; nextRound(); }
function challenge() { state = "followup"; setMainButton("Answer Follow-Up (+2)"); }
function skipQuestion() { scores[currentPlayer] = Math.max(0, scores[currentPlayer]-1); nextRound(); }

function nextRound() {
  round++;
  updateScore();
  if (round >= maxRounds) return endGame();

  state = "waiting";
  nameDisplay.innerText = "Press Spin";
  questionBox.innerText = "Question will appear here";
  setMainButton("Spin");
}

function endGame() {
  gameOver = true;

  const p1 = players[0];
  const p2 = players[1];

  let result = scores[p1] > scores[p2] ? `${p1} Wins!`
             : scores[p2] > scores[p1] ? `${p2} Wins!`
             : "It's a Draw!";

  nameDisplay.innerText = result;
  questionBox.innerText = "Game Over";

  actionArea.innerHTML = `
    <button class="primary" onclick="location.reload()">Play Again</button>
  `;

  roundDisplay.innerText = "Final Score";
}

function setMainButton(text) {
  actionArea.innerHTML = `
    <button id="mainBtn" class="primary" onclick="handleMain()">${text}</button>
  `;
}

function updateScore() {
  score1.innerText = scores[players[0]];
  score2.innerText = scores[players[1]];
  if (!gameOver) roundDisplay.innerText = `Round ${round + 1} / ${maxRounds}`;
}

function goBack() {
  document.body.style.opacity = "0";
  setTimeout(() => {
    window.location.href = "index.html";
  }, 300);
}

</script>
</body>
</html>
