<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>No Innocence</title>
<meta name="theme-color" content="#c9184a">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ff4d8d, #c9184a);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  color: white;
  transition: opacity 0.3s ease;
}

.container {
  background: rgba(0,0,0,0.25);
  backdrop-filter: blur(12px);
  padding: 30px;
  border-radius: 25px;
  width: 100%;
  max-width: 420px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
}

.title {
  font-size: 40px;
  font-weight: 900;
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 15px;
}

.title .no { opacity: 0.45; }

.title .innocence {
  text-shadow: 0 0 6px rgba(255,255,255,0.6),
               0 0 18px rgba(255,0,90,0.5);
}

.title-divider {
  height: 2px;
  width: 70%;
  margin: 10px auto 25px auto;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.7), transparent);
  border-radius: 2px;
  opacity: 0.7;
}

input {
  width: 100%;
  padding: 14px;
  margin: 10px 0;
  border-radius: 14px;
  border: none;
  font-size: 16px;
  text-align: center;
  background: white;
  color: #c9184a;
  font-weight: bold;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border-radius: 14px;
  border: none;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
}

.primary { background: white; color: #c9184a; }
.danger { background: #ff0a54; color: white; }

.hidden { display: none; }

.name-display {
  margin: 25px 0;
  font-size: 28px;
  font-weight: bold;
  min-height: 36px;
}

.question-box {
  margin-top: 15px;
  padding: 18px;
  border-radius: 18px;
  background: rgba(255,255,255,0.2);
  min-height: 80px;
}

.scoreboard {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  gap: 10px;
}

.player-card {
  flex: 1;
  background: rgba(255,255,255,0.15);
  padding: 12px;
  border-radius: 15px;
}

.player-name {
  font-size: 14px;
  opacity: 0.8;
}

.player-score {
  font-size: 24px;
  font-weight: bold;
}

.round-display {
  margin-top: 12px;
  font-size: 14px;
  opacity: 0.8;
}

.back-text {
  margin-top: 25px;
  font-size: 16px;
  opacity: 0.85;
  cursor: pointer;
  transition: 0.2s ease;
}

.back-text:hover {
  opacity: 1;
  transform: translateX(-4px);
}
</style>
</head>
<body>

<div class="container">

<h1 class="title">
  <span class="no">No</span>
  <span class="innocence">Innocence</span>
</h1>

<div class="title-divider"></div>

<div id="setup">
  <input id="player1" placeholder="Player 1 Name">
  <input id="player2" placeholder="Player 2 Name">
  <button class="primary" onclick="startGame()">Begin</button>
</div>

<div id="game" class="hidden">

  <div id="nameDisplay" class="name-display">Press Spin</div>

  <div id="questionBox" class="question-box">
    Question will appear here
  </div>

  <div id="actionArea">
    <button id="mainBtn" class="primary" onclick="handleMain()">Spin</button>
  </div>

  <div class="scoreboard">
    <div class="player-card">
      <div id="name1" class="player-name"></div>
      <div id="score1" class="player-score">0</div>
    </div>
    <div class="player-card">
      <div id="name2" class="player-name"></div>
      <div id="score2" class="player-score">0</div>
    </div>
  </div>

  <div id="roundDisplay" class="round-display"></div>

</div>
</div>

<div class="back-text" onclick="goBack()">← Go Back</div>

<script>

let players = [];
let scores = {};
let currentPlayer = null;
let lastPlayer = null;
let streakCount = 0;

let round = 0;
const maxRounds = 15; // ✅ NOW 15 ROUNDS

let state = "waiting";
let spinning = false;
let gameOver = false;

const questions = [
  "Have you ever wanted someone to take control?",
  "What’s your favorite place to be kissed on your body?",
  "Have you ever flirted knowing it could cause drama?",
  "What’s the most daring place you’ve made out?",
  "Have you ever had a forbidden attraction?",
  "What’s something subtle that turns you on?",
  "Have you ever crossed a line you said you wouldn’t?",
  "What’s the longest you’ve gone without sex?",
  "Have you ever been someone's secret?",
  "What’s your biggest weakness when it comes to attraction?",
  "Have you ever wanted someone purely for physical reasons?",
  "What’s something that instantly makes your heart race?",
  "Have you ever flirted just for attention?",
  "What’s the freakiest thing you've done alone?",
  "Have you ever made the first move?",
  "What’s your ideal late-night scenario?",
  "Have you ever been dominated or wanted to be?",
  "What’s something you’ve done that would shock people?",
  "When was the last time you had sex?",
  "Have you ever enjoyed being chased?",
  "What’s something you’d only admit after midnight?",
  "Have you ever had chemistry with someone instantly?",
  "What’s your favorite type of tension?",
  "Have you ever flirted with someone while in a relationship?",
  "What’s the most intense attraction you’ve ever felt?",
  "Have you ever tested someone to see how far they’d go?",
  "What’s something you secretly crave but haven’t admitted?",
  "Have you ever sent a risky text and regretted it?",
  "What’s the most spontaneous thing you’ve done?",
  "Have you ever been addicted to someone sexually?",
  "What’s something that makes you instantly blush?",
  "Have you ever had a crush on a friend’s partner?",
  "What’s the boldest move you’ve ever made on someone?",
  "Have you ever kept a relationship secret?",
  "What’s something that makes you instantly crave someone?",
  "Have you ever had feelings for two people at once?",
  "When was the last time you masturbated?",
  "What’s the most intense physical connection you’ve had?",
  "Have you ever wanted someone who was completely off-limits?",
  "What’s something you’d try once just to say you did?",
  "Have you ever flirted to make someone jealous?",
  "What’s your biggest turn-on?",
  "Have you ever faked being less experienced than you are?",
  "Where is the freakiest place you've had sex?",
  "Have you ever roleplayed?",
  "What’s the boldest message you’ve ever sent?",
  "Have you ever had a secret late-night conversation that went too far?",
  "What’s your favorite type of compliment to receive?",
  "Have you ever wanted someone you couldn’t have?",
  "What’s something that drives you crazy in a good way?",
  "Have you ever used tension to your advantage?",
  "What’s the most reckless thing you’ve done for attraction?",
  "Have you ever had a one-night stand?",
  "What’s something you’d only do with someone you fully trust?",
  "Have you ever been turned on by the wrong person?",
  "What’s your favorite body part on someone?",
  "Have you ever had a risky situation almost happen?",
  "What’s your most dangerous weakness?",
  "Have you ever gotten really jealous?",
  "What’s something you’ve replayed in your head over and over?",
  "Have you ever flirted in public just for fun?",
  "When was the last time you kissed someone?",
  "What’s the dirtiest thought you’ve had about someone you know?",
  "Have you ever had a situation that almost went too far?",
  "What’s the longest you’ve teased someone on purpose?",
  "Have you ever caught feelings after hooking up?",
  "What’s your favorite type of foreplay?",
  "Have you ever lied about your body count?",
  "What’s something that always gets you in the mood?",
  "Where is the freakiest place you've masturbated?",
  "Have you ever pushed someone’s limits on purpose?",
  "What’s something you wish someone would do to you?",
  "Have you ever fantasized about someone in this room?",
  "What’s the most intense make-out session you’ve had?",
  "Have you ever wanted something you knew you shouldn’t?",
  "What’s the most inappropriate place you’ve felt turned on?",
  "Have you ever had a secret crush on someone you shouldn’t have?",
  "What’s something you’ve done that you’ve never told anyone?",
  "Have you ever been caught doing something naughty?",
  "What’s the riskiest decision you’ve made because you were turned on?",
  "Have you ever enjoyed making someone jealous?",
  "What’s the most possessive you’ve ever felt over someone?",
  "What’s your biggest turn-off?",
  "Have you ever had a friends-with-benefits situation?",
  "What’s something that makes you lose control?",
  "Have you ever wanted to test someone’s self-control?",
  "What’s the freakiest thing you've done with someone?",
  "Have you ever hooked up with someone you just met?",
  "What’s something you’d try if you knew there were no consequences?",
  "Have you ever had a forbidden late-night moment?",
  "Have you ever had a forbidden attraction?",
  "Have you ever wanted someone to beg for you?",
  "When was the last time you got really horny?",
  "How many sex toys do you own?",
  "Have you ever used a sex toy?"
];


function startGame() {
  const p1 = player1.value.trim();
  const p2 = player2.value.trim();
  if (!p1 || !p2) return alert("Enter both names");

  players = [p1, p2];
  scores = { [p1]: 0, [p2]: 0 };

  name1.innerText = p1;
  name2.innerText = p2;

  setup.classList.add("hidden");
  game.classList.remove("hidden");

  round = 0;
  gameOver = false;
  lastPlayer = null;
  streakCount = 0;

  state = "waiting";
  setMainButton("Spin");
  updateScore();
}

function smartRandomPlayer() {
  let choice;
  if (streakCount >= 2) {
    const other = players.find(p => p !== lastPlayer);
    choice = Math.random() < 0.75 ? other : lastPlayer;
  } else {
    choice = players[Math.floor(Math.random() * players.length)];
  }

  streakCount = (choice === lastPlayer) ? streakCount + 1 : 1;
  lastPlayer = choice;
  return choice;
}

function spinPlayer() {
  spinning = true;
  const btn = document.getElementById("mainBtn");
  btn.disabled = true;

  let flips = 0;
  const spinInterval = setInterval(() => {
    nameDisplay.innerText = players[flips % 2];
    flips++;

    if (flips >= 18) {
      clearInterval(spinInterval);
      currentPlayer = smartRandomPlayer();
      nameDisplay.innerText = currentPlayer;
      spinning = false;
      btn.disabled = false;
    }
  }, 60);
}

function handleMain() {
  if (spinning || gameOver) return;

  if (state === "waiting") {
    spinPlayer();
    state = "spun";
    setMainButton("Reveal Question");
    return;
  }

  if (state === "spun") {
    showQuestion();
    state = "answering";
    return;
  }

  if (state === "answering") {
    state = "decision";
    showDecision();
    return;
  }

  if (state === "followup") {
    scores[currentPlayer] += 2;
    nextRound();
  }
}

function showQuestion() {
  const q = questions[Math.floor(Math.random()*questions.length)];
  questionBox.innerText = q;

  actionArea.innerHTML = `
    <button class="primary" onclick="handleMain()">Finished Answer</button>
    <button class="danger" onclick="skipQuestion()">Skip (-1)</button>
  `;
}

function showDecision() {
  actionArea.innerHTML = `
    <button class="primary" onclick="accept()">Accept (+1)</button>
    <button class="danger" onclick="challenge()">Challenge (+2)</button>
  `;
}

function accept() { scores[currentPlayer] += 1; nextRound(); }
function challenge() { state = "followup"; setMainButton("Answer Follow-Up (+2)"); }
function skipQuestion() { scores[currentPlayer] = Math.max(0, scores[currentPlayer]-1); nextRound(); }

function nextRound() {
  round++;
  updateScore();
  if (round >= maxRounds) return endGame();

  state = "waiting";
  nameDisplay.innerText = "Press Spin";
  questionBox.innerText = "Question will appear here";
  setMainButton("Spin");
}

function endGame() {
  gameOver = true;

  const p1 = players[0];
  const p2 = players[1];

  let result = scores[p1] > scores[p2] ? `${p1} Wins!`
             : scores[p2] > scores[p1] ? `${p2} Wins!`
             : "It's a Draw!";

  nameDisplay.innerText = result;
  questionBox.innerText = "Game Over";

  actionArea.innerHTML = `
    <button class="primary" onclick="location.reload()">Play Again</button>
  `;

  roundDisplay.innerText = "Final Score";
}

function setMainButton(text) {
  actionArea.innerHTML = `
    <button id="mainBtn" class="primary" onclick="handleMain()">${text}</button>
  `;
}

function updateScore() {
  score1.innerText = scores[players[0]];
  score2.innerText = scores[players[1]];
  if (!gameOver) roundDisplay.innerText = `Round ${round + 1} / ${maxRounds}`;
}

function goBack() {
  document.body.style.opacity = "0";
  setTimeout(() => {
    window.location.href = "index.html";
  }, 300);
}

</script>
</body>
</html>